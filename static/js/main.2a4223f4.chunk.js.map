{"version":3,"sources":["components/Reader/Reader.module.css","components/Publication/Publication.module.css","components/Controls/Controls.jsx","components/Publication/Publication.jsx","components/Reader/Reader.jsx","components/App/App.jsx","index.js","components/Controls/Controls.module.css"],"names":["module","exports","Controls","handleClick","currentPage","className","styles","controls","name","value","type","button","onClick","disabled","Publication","title","text","id","publication","key","getItemFromProps","props","queryString","parse","location","search","item","Reader","state","items","itemsPublication","target","history","redirect","push","pathname","setState","this","prevProps","prevState","prevItem","length","reader","counter","Component","App","path","component","to","exact","from","ReactDOM","render","basename","document","getElementById"],"mappings":"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","file":"static/js/main.2a4223f4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__3NRr3\",\"counter\":\"Reader_counter__2S3-J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__2aFUI\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Controls.module.css';\n\nconst Controls = ({ handleClick, currentPage }) => (\n  <section className={styles.controls}>\n    <button\n      name=\"prev\"\n      value=\"previous\"\n      type=\"button\"\n      className={styles.button}\n      onClick={handleClick}\n      disabled={!currentPage}\n    >\n      To Back\n    </button>\n    <button\n      name=\"next\"\n      value=\"next\"\n      type=\"button\"\n      className={styles.button}\n      onClick={handleClick}\n      disabled={currentPage === 11}\n    >\n      To Next\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default Controls;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Publication.module.css';\n\nconst Publication = ({ title, text, id }) => (\n  <article className={styles.publication} key={id}>\n    <h2>{title}</h2>\n    <p>{text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  title: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default Publication;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport Controls from '../Controls/Controls';\nimport Publication from '../Publication/Publication';\nimport itemsPublication from '../../json/publications.json';\nimport styles from './Reader.module.css';\n\nconst getItemFromProps = props => queryString.parse(props.location.search).item;\n\nexport default class Reader extends Component {\n  state = {\n    items: itemsPublication,\n    currentPage: 0,\n  };\n\n  componentDidMount() {\n    const { location, history } = this.props;\n    const item = getItemFromProps(this.props);\n    if (!item) {\n      return history.push({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n    return this.setState({ currentPage: item - 1 });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { location, history } = this.props;\n    const item = getItemFromProps(this.props);\n    const prevItem = getItemFromProps(prevProps);\n    const { items } = this.state;\n    if (item !== prevItem && item <= items.length) {\n      this.setState({\n        currentPage: item - 1,\n      });\n    } else if (item > items.length) {\n      history.push({\n        pathname: location.pathname,\n        search: `item=1`,\n      });\n    }\n  }\n\n  handleClick = ({ target }) => {\n    const { name } = target;\n    // const { currentPage } = this.state;\n    const { location, history } = this.props;\n\n    const redirect = () => {\n      return history.push({\n        ...location,\n        search: `item=${this.state.currentPage + 1}`,\n        pathname: '/reader',\n      });\n    };\n\n    if (name === 'prev') {\n      this.setState(\n        state => ({\n          currentPage: state.currentPage - 1,\n        }),\n        redirect,\n      );\n    } else if (name === 'next') {\n      this.setState(\n        state => ({\n          currentPage: state.currentPage + 1,\n        }),\n        redirect,\n      );\n    }\n  };\n\n  render() {\n    const { currentPage, items } = this.state;\n    return (\n      <div className={styles.reader}>\n        <Publication\n          title={items[currentPage].title}\n          text={items[currentPage].text}\n          id={items[currentPage].id}\n        />\n        <p className={styles.counter}>{currentPage + 1}/12</p>\n        <Controls handleClick={this.handleClick} currentPage={currentPage} />\n      </div>\n    );\n  }\n}\n\nReader.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func.isRequired,\n  }).isRequired,\n};\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport Reader from '../Reader/Reader';\n\nconst App = () => (\n  <Switch>\n    <Route path=\"/reader\" component={Reader} />\n    <Route path=\"/:somewhere\">\n      <Redirect to=\"/reader\" component={Reader} />\n    </Route>\n    <Redirect exact from=\"/\" to=\"/reader\" component={Reader} />\n  </Switch>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <HashRouter basename=\"/\">\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2d1sV\",\"button\":\"Controls_button__1lpxl\"};"],"sourceRoot":""}